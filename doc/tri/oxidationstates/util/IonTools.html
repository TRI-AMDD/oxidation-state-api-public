<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (16) on Mon Oct 16 17:45:17 EDT 2023 -->
<title>IonTools</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-10-16">
<meta name="description" content="declaration: package: tri.oxidationstates.util, class: IonTools">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/IonTools.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">tri.oxidationstates.util</a></div>
<h1 title="Class IonTools" class="title">Class IonTools</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">tri.oxidationstates.util.IonTools</div>
</div>
<section class="description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">IonTools</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block">This class contains some utility methods for identifying and working with
 polyatomic ions.</div>
<dl class="notes">
<dt>Author:</dt>
<dd>timmueller</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><span class="member-name-link"><a href="#%3Cinit%3E()">IonTools</a></span>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static boolean</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#compareStructures(matsci.structure.Structure,matsci.structure.Structure,boolean)">compareStructures</a></span>&#8203;(matsci.structure.Structure&nbsp;structure1,
 matsci.structure.Structure&nbsp;structure2,
 boolean&nbsp;ignoreOxidationStates)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Returns true if two structures are equivalent based on the standard mapping
 parameters set in <a href="#setMappingParams(tri.structure.mapper.GeneralStructureMapper)"><code>setMappingParams(tri.structure.mapper.GeneralStructureMapper)</code></a>, and false otherwise.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static matsci.structure.Structure</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#findRepresentativeStructure(java.util.List,int,boolean)">findRepresentativeStructure</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;matsci.structure.Structure&gt;&nbsp;structures,
 int&nbsp;numSamples,
 boolean&nbsp;ignoreOxidationStates)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">From a list of given structures, finds the one that is closest to the mean of
 random subset of the others based on the sum of the scores of the maps
 between the structures.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static matsci.structure.Structure</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#loadIonStructureFromFile(java.lang.String)">loadIonStructureFromFile</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Reads an ion structure from a file written in the format defined by {2link
 writeIonStructure()}.</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static matsci.structure.Structure</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#makeRepresentativeStructure(java.lang.String,int)">makeRepresentativeStructure</a></span>&#8203;(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dirName,
 int&nbsp;numSamples)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Randomly samples POSCAR-formatted files from the given directory and creates
 an "average" structure from those files.</div>
</div>
<div class="col-first even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#setMappingParams(tri.structure.mapper.GeneralStructureMapper)">setMappingParams</a></span>&#8203;(tri.structure.mapper.GeneralStructureMapper&nbsp;mapper)</code></div>
<div class="col-last even-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Sets standard structure comparison parameters for the structure mapper</div>
</div>
<div class="col-first odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code>static void</code></div>
<div class="col-second odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table"><code><span class="member-name-link"><a href="#writeIonStructure(matsci.structure.Structure,java.lang.String,java.lang.String)">writeIonStructure</a></span>&#8203;(matsci.structure.Structure&nbsp;ion,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;ionFileName,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;description)</code></div>
<div class="col-last odd-row-color method-summary-table-tab1 method-summary-table-tab4 method-summary-table">
<div class="block">Writes an ion structure to a special type of POSCAR-formatted file that
 contains information about the lattice vector periodicity in the first line
 of the file.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>IonTools</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">IonTools</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="makeRepresentativeStructure(java.lang.String,int)">
<h3>makeRepresentativeStructure</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">matsci.structure.Structure</span>&nbsp;<span class="element-name">makeRepresentativeStructure</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;dirName,
 int&nbsp;numSamples)</span></div>
<div class="block">Randomly samples POSCAR-formatted files from the given directory and creates
 an "average" structure from those files.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>dirName</code> - The directory containing the files to be sampled.</dd>
<dd><code>numSamples</code> - The number of files to use to create the average structure.
                   Files are sampled without replacement.</dd>
<dt>Returns:</dt>
<dd>the average structure</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="compareStructures(matsci.structure.Structure,matsci.structure.Structure,boolean)">
<h3>compareStructures</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">compareStructures</span>&#8203;<span class="parameters">(matsci.structure.Structure&nbsp;structure1,
 matsci.structure.Structure&nbsp;structure2,
 boolean&nbsp;ignoreOxidationStates)</span></div>
<div class="block">Returns true if two structures are equivalent based on the standard mapping
 parameters set in <a href="#setMappingParams(tri.structure.mapper.GeneralStructureMapper)"><code>setMappingParams(tri.structure.mapper.GeneralStructureMapper)</code></a>, and false otherwise.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>structure1</code> - One of the structures to be compared.</dd>
<dd><code>structure2</code> - One of the structures to be compared.</dd>
<dd><code>ignoreOxidationStates</code> - True if oxidation states should be ignored when
                              making the comparison (Fe2+ and Fe3+ are the
                              same), and false otherwise (Fe2+ and Fe3+ are
                              different).</dd>
<dt>Returns:</dt>
<dd>true if two structures are equivalent based on the standard mapping
         parameters set in <a href="#setMappingParams(tri.structure.mapper.GeneralStructureMapper)"><code>setMappingParams(tri.structure.mapper.GeneralStructureMapper)</code></a>, and false otherwise.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="findRepresentativeStructure(java.util.List,int,boolean)">
<h3>findRepresentativeStructure</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">matsci.structure.Structure</span>&nbsp;<span class="element-name">findRepresentativeStructure</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;matsci.structure.Structure&gt;&nbsp;structures,
 int&nbsp;numSamples,
 boolean&nbsp;ignoreOxidationStates)</span></div>
<div class="block">From a list of given structures, finds the one that is closest to the mean of
 random subset of the others based on the sum of the scores of the maps
 between the structures. If not such structure can be found (usually because
 there are no reasonable maps between any one structure and all other
 structures), return null.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>structures</code> - The set of structures for which we will
                              calculate the average.</dd>
<dd><code>numSamples</code> - The number of files to use to create the average
                              structure. Structures are sampled without
                              replacement.</dd>
<dd><code>ignoreOxidationStates</code> - True if oxidation states should be ignored when
                              making the comparison (Fe2+ and Fe3+ are the
                              same), and false otherwise (Fe2+ and Fe3+ are
                              different).</dd>
<dt>Returns:</dt>
<dd>The average structure</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setMappingParams(tri.structure.mapper.GeneralStructureMapper)">
<h3>setMappingParams</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setMappingParams</span>&#8203;<span class="parameters">(tri.structure.mapper.GeneralStructureMapper&nbsp;mapper)</span></div>
<div class="block">Sets standard structure comparison parameters for the structure mapper</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>mapper</code> - The mapper for which we are setting the standard parameters.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="writeIonStructure(matsci.structure.Structure,java.lang.String,java.lang.String)">
<h3>writeIonStructure</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">writeIonStructure</span>&#8203;<span class="parameters">(matsci.structure.Structure&nbsp;ion,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;ionFileName,
 <a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;description)</span></div>
<div class="block">Writes an ion structure to a special type of POSCAR-formatted file that
 contains information about the lattice vector periodicity in the first line
 of the file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>ion</code> - The structure file will be written for this ion.</dd>
<dd><code>ionFileName</code> - The name of the file to write.</dd>
<dd><code>description</code> - A description string to be added to the file, along with
                    the information about lattice vector periodicity.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="loadIonStructureFromFile(java.lang.String)">
<h3>loadIonStructureFromFile</h3>
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">matsci.structure.Structure</span>&nbsp;<span class="element-name">loadIonStructureFromFile</span>&#8203;<span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;path)</span></div>
<div class="block">Reads an ion structure from a file written in the format defined by {2link
 writeIonStructure()}. Sets the lattice vector periodicity appropriately, as
 defined in the first line of the file.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>path</code> - The path to the file to be read.</dd>
<dt>Returns:</dt>
<dd>The structure read from the file, with lattice vector periodicity set
         as specified in the file.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
